\# 中超比赛预测项目（机器学习实战）

\- 目标：用机器学习预测中超比赛胜负

\- 阶段：第1周 - 数据收集

\- 作者：Liu Yize

## 6 模型对比与决赛模型选择

| 指标 | 逻辑回归 | 随机森林（阈值调优后） | 提升 |
|---|---|---|---|
| 整体准确率 | 86 % | 74 % * | 主胜类终于“被看见” |
| 主胜 F1 | **0.00** | **0.27** | +0.27 |
| 主胜 Recall | 0 % | **40 %** | +40 % |
| PR-AUC | 0.50 | **0.52** | 少数类排序能力略胜 |

\* 整体准确率下降是**主动牺牲多数类精度**以换取少数类召回，符合业务需求。

**结论**：逻辑回归因线性假设限制，在极度不平衡数据上再次“不敢预测主胜”；  
随机森林通过 `class_weight='balanced'` + **阈值下调至 0.10**，把主胜 **F1 从 0 推到 0.27**，**召回率 40 %**，正式选为 **决赛模型**。

---

## 7 项目里程碑（Git 日志可视化）

| 日期 | 关键提交 | 复试一句话 |
|---|---|---|
| 2025-06-01 | 添加随机森林 + 特征重要性 | “我用集成学习自动挑特征，准确率 92 %。” |
| 2025-06-08 | 分层采样修复类别不平衡 | “仅用 1 行 `stratify=y` 让主胜召回从 0 → 20 %。” |
| 2025-06-08 | 模型对比：LR vs RF | “我绘制 PR 曲线，最终优选 RF，主胜 F1 达 0.27。” |

---

## 8 下一步（W10）

- **PyTorch 三层感知机**：挖掘非线性关系，目标主胜 F1 ≥ 0.35。
- **可解释性**：SHAP 值量化“近期进攻效率”对胜负贡献。
- **在线演示**：Streamlit 部署，输入两队近期战绩 → 实时概率。

---

## 9 快速复现

```bash
git clone https://github.com/11joshua747/ChineseSuperLeague.git
cd ChineseSuperLeague
# 用 Miniconda 创建同名环境
conda env create -f environment.yml
jupyter lab
# 按序号运行 notebook 即可复现 0→1 全过程
